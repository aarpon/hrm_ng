<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example - example-example32-production</title>


    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular.min.js"></script>



</head>
<body ng-app="formExample" ng-controller="ExampleController">
<div>
    <form novalidate class="simple-form" ng-submit="sendData()">
        Name: <input type="text" ng-model="user.name" /><br />
        E-mail: <input type="email" ng-model="user.email" /><br />
        Gender: <input type="radio" ng-model="user.gender" value="male" />male
        <input type="radio" ng-model="user.gender" value="female" />female<br />
        <input type="button" ng-click="reset()" value="Reset" />
        <input type="submit" value="Submit" />
    </form>
    <pre>form = {{user | json}}</pre>
    <pre>master = {{master | json}}</pre>
</div>

<script>
    angular.module('formExample', [])
            .controller('ExampleController', function($scope, $http) {
                $scope.master = {};

                $scope.update = function(user) {
                    $scope.master = angular.copy(user);
                };

                $scope.reset = function() {
                    $scope.user = angular.copy($scope.master);
                };

                $scope.sendData = function() {
                    $http({
                        method  : 'POST',
                        url     : 'ajax/json-rpc-server.php',
                        data    : {id : 1,
                                   jsonrpc: "2.0",
                                   method : "login",
                                   params : $scope.user},  // pass in data as strings
                        headers : {'Content-Type': 'application/json'}  // set the headers so angular passing info as form data (not request payload)
                    })
                            .success(function(data) {
                                console.log(data);

                                if (!data.success) {
                                    // if not successful, bind errors to error variables
                                    $scope.errorName = data.errors.name;
                                    $scope.errorSuperhero = data.errors.superheroAlias;
                                } else {
                                    // if successful, bind success message to message
                                    $scope.message = data.message;
                                }
                            });
                };

                $scope.reset();
            });
</script>
</body>
</html>